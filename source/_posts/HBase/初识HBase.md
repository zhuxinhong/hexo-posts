---
title: 初识HBase
date: 2016-07-05
categories: HBase
tags: HBase
---

##	简介
HBase是一个构建在HDFS之上、分布式、面向列的开源数据库，由Google BigTable的开源实现，它主要用于存储海量数据，是Hadoop生态系统中的重要一员。

##	HBase优势

###	1.成熟
*	社区成熟	
* 	理论充分经过实践
*  	丰富的工具支持, hbck、phoenix、solr

###	2.高效
*	将随机嘟列转化为顺序读写，适应高并发写入
* 	均衡效果好读写性能和机器数保持线性关系
*  	行中没有保存数据的列不占存储空间

###	3.分布式特性
*	基于HDFS、Zookeeper
* 	一致性、可用性、分区容忍性
*  	大数据存储
*	易扩展

##	HBase表特点
*	大：一个表可以有数十亿行，上百万列
* 	面向列：面向列（族）的存储和权限访问，列（族）独立索引
*  稀疏：对于为空（null）的列，并不占用存储空间，因此，表可以设计的非常稀疏
*	数据类型单一：HBase中的数据类型都是字符串(string)
* 	无模式：每行都有一个可排序的主键和任意多的列，列可以根据需要动态增加，同一张表中不同的行可以有截然不同的列

##	HBase VS RDBMS
*	数据类型	
HBase中的数据都是字符串类型
*	数据操作	
HBase只有普通的增删改查等操作，没有表之间的关联查询
*	存储模式	
HBase是基于列式存储的，而RDBMS是基于行式存储的
*	应用场景	
HBase适合存储大量数据，查询效率极高

***

##	HBase概念

###	1.主键
*	用来检索记录的主键
* 	访问HBase表中的行，只有三种方式：
	1.	通过单个Row Key访问
	2. 	通过Row Key的range
	3. 	全表扫描
*	主键为任意字符串，最大长度为64kb，按字典顺序存储，在HBase内部保存为字节数组

###	2.列族
*	列族在创建表的时候声明，一个列族可以包含多个列，列中的数据都是以二进制形式存在，没有数据类型
* 	列族是一些列的集合
*  	一个列族所有列成员是有着相同的前缀。比如，列courses:histor和courses:math都是列族courses的成员，冒号是列族的分隔符，用来区分前缀和列名

###	3.时间戳与存储单元
*	HBase中通过row和columns确定的为一个存贮单元称为cell。每个cell都保存着同一份数据的多个版本。
* 	在写入数据时，时间戳可以由HBase自动赋值（当前系统时间精确到毫秒），也可以显示赋值。
*  	每个cell中，不用版本的数据按照时间的倒序排序。

##	HBase数据模型

###	HBase存储细节
*	每个列族存储在HDFS上的一个单独文件夹中
* 	Key和Version number会在每个列族中存储一份
*  	空值不会被保存